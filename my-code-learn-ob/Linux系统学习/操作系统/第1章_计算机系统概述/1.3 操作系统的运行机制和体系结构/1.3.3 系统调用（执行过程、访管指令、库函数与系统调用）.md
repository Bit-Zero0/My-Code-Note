# 1.什么是系统调用？有何作用
>系统调用是**操作系统提供给应用程序的接口**。
>
>作用：应用程序可以通过系统调用（程序接口）请求获得操作系统的服务。
>
>**系统调用**会使处理器从==用户态切换到核心态==


* 系统调用相关功能涉及到系统资源管理、进程管理之类的操作、对整个操作系统影响很大，因此必定需要使用某些 **==特权指令==** 才能完成
* 所以系统调用的处理器需要由操作系统的==**内核程序**==负责完成，要运行到==**[[1.3.1 操作系统的运行机制和体系结构（大内核、小内核）#两种处理器状态 | 核心态]]**==。


## 设备管理
完成设备的请求、释放、启动等功能

## 文件管理
完成文件的读、写、创健、刷除等功能

## 进程控制
完成进程的创建、散销、阻塞、唤醒等功能

## 进程通信
完成进程之间的消息传递、信号传递等功能

## 内存管理
完成内存的分配、回收、获取作业占用内存区大小及始址等功能


# 2.系统调用和库函数的区别

![[Pasted image 20220514155400.png]]
* 系统调用时操作系统向上提供的接口。

* 有的库函数是对系统调用的进一步**封装**。

* 当今编写的应用程序大多是通过**高级语言提供的库函数**==**间接**==的进行==系统调用==。


# 3.系统调用背后的过程
1. 用户程序执行[[1.3.2 中断和异常（内中断和外中断、中断处理过程）#内中断（也称异常，例外、陷入）|陷入指令（又称访管指令/trap指令）]] ，请求操作系统服务。

2. 操作系统内核程序对系统调用进行相应处理。

3. 处理完成后，操作系统内核程序将CPU使用权还给用户。


![[Pasted image 20220514155834.png]]

>==**系统调用**==发生在==**[[1.3.1 操作系统的运行机制和体系结构（大内核、小内核）#两种处理器状态 | 用户态]]**==
>对==**系统调用的处理**==发生在==**[[1.3.1 操作系统的运行机制和体系结构（大内核、小内核）#两种处理器状态 | 核心态]]**==
>==**执行[[1.3.2 中断和异常（内中断和外中断、中断处理过程）#内中断（也称异常，例外、陷入）|陷入指令]]**==会产生==**[[1.3.2 中断和异常（内中断和外中断、中断处理过程）#内中断（也称异常，例外、陷入）| 内中断]]**==，使处理器==**进入[[1.3.1 操作系统的运行机制和体系结构（大内核、小内核）#两种处理器状态 | 核心态]]**==
