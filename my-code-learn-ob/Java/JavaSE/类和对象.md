# 类定义和使用

## 类的定义格式
在java中定义类时需要用到class关键字，具体语法如下
```java
// 创建类
class ClassName{
	field; // 字段(属性) 或者 成员变量
	method; // 行为 或者 成员方法
}
```

`class`为定义类的**关键字**，`ClassName`为**类的名字**，`{}`中为**类的主体**。
类中包含的内容称为类的成员。属性主要是用来描述类的，称之为类的成员属性或者类成员变量。方法主要说明类具有哪些功能，称为类的成员方法。
```java
class WashMachine{  
    public String brand; // 品牌  
    public String type; // 型号  
    public double weight; // 重量  
    public double lenght; // 长  
    public double weidth; // 宽  
    public double height; // 高  
    public String color; // 颜色  
    public void WashClothes(){ // 洗衣服  
        System.out.println("洗衣功能");  
    }  
    public void dryClothes(){ // 脱水  
        System.out.println("脱水功能");  
    }  
    public void SetTime(){ // 定时  
        System.out.println("定时功能");  
    }  
}
```
采用Java语言将洗衣机类在计算机中定义完成，经过javac编译之后形成.class文件，在JVM的基础上计算机就可以识别了。

==注意事项==
- 类名注意采用**大驼峰定义**  如：PrintArray


# 类的实例化
## 什么是实例化
**定义了一个类，就相当于在计算机中定义了一种新的类型**，与int，double类似，只不过int和double是java语言自带的内置类型，而类是用户自定义了一个新的类型，比如上述的：PetDog类和Student类。它们都是类(一种新定义的类型)有了这些自定义的类型之后，就可以使用这些类来定义实例(或者称为对象)。

**用类类型创建对象的过程，称为类的实例化**，在java中采用`new`关键字，配合类名来实例化对象。
![[Pasted image 20221204154852.png]]

```java
public class Main{  
    public static void main(String[] args) {  
        PetDog dogh = new PetDog(); //通过new实例化对象  
        dogh.name = "阿黄";  
        dogh.color = "黑黄";  
        dogh.barks();  
        dogh.wag();  
        PetDog dogs = new PetDog();  
        dogs.name = "阿黄";  
        dogs.color = "黑黄";  
        dogs.barks();  
        dogs.wag();  
    }  
}

//输出结果：
阿黄: 旺旺旺~~~
阿黄: 摇尾巴~~~
赛虎: 旺旺旺~~~
赛虎: 摇尾巴~~~
```

==注意事项==
- `new` 关键字用于创建一个对象的实例.
- 使用 `.` 来访问对象中的属性和方法.
- 同一个类可以创建多个实例.


## 类和对象的说明
1. 类只是一个**模型**一样的东西，用来对一个实体进行描述，限定了类有哪些成员.
2. **类是一种自定义的类型**，可以用来定义变量，但是在**java中用类定义出来的变量我们成为对象**.
3. 一个类可以实例化出多个对象，**实例化出的对象 占用实际的物理空间，存储类成员变量**
4. 做个比方。**类实例化出对象就像现实中使用建筑设计图建造出房子，类就像是设计图**，只设计出需要什么东西，但是并没有实体的建筑存在，同样类也只是一个设计，实例化出的对象才能实际存储数据，占用物理空间
![[Pasted image 20221204155114.png]]


# this 引用

## 为什么要有this引用
先看一个日期类的例子：
```java
public class Date {  
    public int year;  
    public int month;  
    public int day;  
    public void setDay(int y, int m, int d){  
        year = y;  
        month = m;  
        day = d;  
    }  
    public void printDate(){  
        System.out.println(year + "/" + month + "/" + day);  
    }  
    public static void main(String[] args) {  
        // 构造三个日期类型的对象 d1 d2 d3        Date d1 = new Date();  
        Date d2 = new Date();  
        Date d3 = new Date();  

		// 对d1，d2，d3的日期设置  
        d1.setDay(2020,9,15);  
        d2.setDay(2020,9,16);  
        d3.setDay(2020,9,17);  
		
		// 打印日期中的内容  
        d1.printDate();  
        d2.printDate();  
        d3.printDate();  
    }  
}
```

以上代码定义了一个日期类，然后main方法中创建了三个对象，并通过Date类中的成员方法对对象进行设置和打印，代码整体逻辑非常简单，没有任何问题。

但是细思之下有以下两个疑问：
1. **形参名不小心与成员变量名相同：**
```java
public void setDay(int year, int month, int day){
year = year;
month = month;
day = day;
}
```
那函数体中到底是谁给谁赋值？成员变量给成员变量？参数给参数？参数给成员变量？成员变量参数？估计
自己都搞不清楚了。

2. 三个对象都在调用`setDate`和`printDate`函数，但是这两个函数中没有任何有关对象的说明，**setDate和
printDate函数如何知道打印的是那个对象的数据呢？**
![[Pasted image 20221204155506.png]]
一切让this引用来揭开这层神秘的面纱。

## 什么是this引用
**java编译器给每个“成员方法“增加了一个隐藏的引用类型参数，该引用参数指向当前对象(成员方法运行时调用该成员方法的对象)，在成员方法中所有成员变量的操作，都是通过该引用去访问。** 只不过所有的操作对用户是透明的，即用户不需要来传递，编译器自动完成。

```java
public class Date {  
    public int year;  
    public int month;  
    public int day;  
    public void setDay(int year, int month, int day){  
        this.year = year;  
        this.month = month;  
        this.day = day;  
    }  
    public void printDate(){  
        System.out.println(this.year + "/" + this.month + "/" + this.day);  
    }  
}
```

this引用是编译器自动添加的，用户在实现代码时一般不需要显式给出。
注意：**this引用的是调用成员方法的对象**。
```java
public static void main(String[] args) {
	Date d = new Date();
	d.setDay(2020,9,15);
	d.printDate();
}
```
![[Pasted image 20221204155725.png]]

## this引用的特性
1. this的类型：对应类类型引用，即哪个对象调用就是哪个对象的引用类型
2. this只能在"成员方法"中使用
3. 在"成员方法"中，this只能引用当前对象，不能再引用其他对象，具有final属性
4. this是“成员方法”第一个隐藏的参数，编译器会自动传递，在成员方法执行时，编译器会负责将调用成员方法对象的引用传递给该成员方法，this负责来接收

在代码层面来简单演示    注意：下图右侧中的Date类也是可以通过编译的
![[Pasted image 20221204155808.png]]

![[Pasted image 20221204155838.png]]




























