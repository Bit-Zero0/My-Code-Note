
# 组件化开发是什么
组件化：一个页面可以拆分成一个个组件，每个组件有着自己独立的结构、样式、行为。

好处：便于维护，利于复用 → 提升开发效率。

组件分类：普通组件、根组件。

比如：下面这个页面，可以把所有的代码都写在一个页面中，但是这样显得代码比较混乱，难易维护。咱们可以按模块进行组件划分

![image.png](https://image-1311137268.cos.ap-chengdu.myqcloud.com/SIYuan/20230906201518.png)


# 根组件 App.vue
## 根组件介绍
**App.vue是整个应用最上层的组件，包裹所有普通小组件**
![image.png](https://image-1311137268.cos.ap-chengdu.myqcloud.com/SIYuan/20230906201644.png)


## 组件是由三部分构成

==组件的重要三部分构成==
	  - template：结构 （有且只能一个根元素）
	  - script:   js逻辑 
	  - style： 样式 (可支持less，需要装包)


让组件支持less
>（1） style标签，`lang="less"` 开启less功能 如: `<style lang="less"></style>`
>（2） 装包: `yarn add less less-loader -D` 或者`npm i less less-loader -D`


**vscode中使用的语法高亮插件**(注: 这是Vue2使用)
![image.png](https://image-1311137268.cos.ap-chengdu.myqcloud.com/SIYuan/20230906201841.png)


# 普通组件的注册使用-局部注册

## 特点：
只能在**注册的组件内使用**

## 步骤：
1. 创建.vue文件（三个组成部分）
2. 在使用的组件内**先导入再注册，最后使用**

## 使用方式：
当成html标签使用即可  `<组件名></组件名>`

## 注意：
组件名规范 —> 大驼峰命名法， 如 `HmHeader`

## 语法：
将我们创建的组件放到componants目录中
![image.png](https://image-1311137268.cos.ap-chengdu.myqcloud.com/SIYuan/20230906203422.png)

进入到==App.vue文件== , 对我们创建的组件进行导入
```js
// 导入需要注册的组件
import 组件对象 from '.vue文件路径'
import HmHeader from './components/HmHeader'

export default {  // 局部注册
  components: {
   '组件名': 组件对象,
    HmHeader:HmHeaer,
    HmHeader   //可以直接这样简写
  }
}
```


## 小练习
效果图:
![image.png](https://image-1311137268.cos.ap-chengdu.myqcloud.com/SIYuan/20230912205314.png)

### 写组件
先在components目录中写出我们需要的三个小组件EmmFooter.vue , EmmHeader.vue 和EmmMain.vue

==EmmFooter.vue==   底部组件
```html
<template>
    <div class="footer"> I'm footer</div>
</template>

<script>
    export default {
    }
</script>

<style>
.footer {
    height: 100px;
    line-height: 100px;
    text-align: center;
    font-size: 30px;
    background-color: #4f81bd;
    color: white;
}
</style>
```

==EmmHeader.vue==  头部组件
```html
<template>
    <div class="header">I'm header</div>
</template>

<script>
    export default {
    }
</script>

<style>
.header {
  height: 100px;
  line-height: 100px;
  text-align: center;
  font-size: 30px;
  background-color: #8064a2;
  color: white;
}
</style>
```

==EmmMain.vue==  身体组件
```html
<template>
    <div class="main"> I'm main</div>
</template>

<script>
    export default {
    }
</script>

<style>
.main {
  height: 400px;
  line-height: 400px;
  text-align: center;
  font-size: 30px;
  background-color: #f79646;
  color: white;
  margin: 20px 0;
}
</style>
```

### 在App.vue中完成局部注册
```html
<template>
  <div id="app">
    <EmmHeader></EmmHeader>
    <EmmMain></EmmMain>
    <EmmFooter></EmmFooter>
  </div>
</template>

<script>

//1. 导入
import EmmMain from './components/EmmMain.vue';
import EmmFooter from './components/EmmFooter.vue';
import EmmHeader from './components/EmmHeader.vue';

export default {
	//2. 注册
  components: {
    EmmMain,
    EmmFooter,
    EmmHeader
  }
}
</script>

<style>
#app {
  width: 600px;
  height: 700px;
  background-color: #87ceeb;
  margin: 0 auto;
  padding: 20px;
}
</style>
```

> 根据自己的包管理器, 在vsc的终端中使用 `yarn serve` 或者 `npm run serve` 运行.(命令不固定，看package.json)



# 普通组件的注册使用-全局注册

## 特点：
全局注册的组件，在项目的**任何组件**中都能使用

## 步骤
1. 创建.vue组件（三个组成部分）
2. **main.js**中进行全局注册

## 使用方式
当成HTML标签直接使用

> <组件名></组件名>

## 注意
组件名规范 —> 大驼峰命名法， 如 HmHeader

## 语法
`Vue.component('组件名', 组件对象)`

例：==main.js 文件中==
```js
// 导入需要全局注册的组件
import HmButton from './components/HmButton'
Vue.component('HmButton', HmButton)
```

## 练习
在以下3个局部组件中是展示一个通用按钮

效果图:
![image.png](https://image-1311137268.cos.ap-chengdu.myqcloud.com/SIYuan/20230912211904.png)

### Button组件
在components目录下创建EmmButton.vue文件

==EmmButton.vue==
```html
<template>
    <button>通用按钮</button>
</template>

<style>
button {
  height: 50px;
  line-height: 50px;
  padding: 0 20px;
  background-color: #3bae56;
  border-radius: 5px;
  color: white;
  border: none;
  vertical-align: middle;
  cursor: pointer;
}
</style>
```


### 在main.js中进行全局注册
```js
import Vue from 'vue'
import App from './App.vue'

//1. 导入
import EmmButton from './components/EmmButton'


Vue.config.productionTip = false

//2. 全局注册
Vue.component('EmmButton' ,EmmButton)

new Vue({
  render: h => h(App),
}).$mount('#app')

```

此时 EmmButton组件在全局都可以进行使用了

### 集成到其他组件中
将我们写的EmmButton组件集成到[[7.组件化开发#小练习|上一个小练习]]的组件中, App.vue代码不变.

==EmmHeader.vue==
```html
<template>
    <div class="header">
      I'm header
      <EmmButton></EmmButton> 
    </div>
</template>

<script>
    export default {
    }
</script>

<style>
.header {
  height: 100px;
  line-height: 100px;
  text-align: center;
  font-size: 30px;
  background-color: #8064a2;
  color: white;
}
</style>
```


==Emmmain.vue==
```html
<template>
    <div class="main"> 
      I'm main
      <EmmButton></EmmButton>
    </div>
</template>

<script>
    export default {
    }
</script>

<style>
.main {
  height: 400px;
  line-height: 400px;
  text-align: center;
  font-size: 30px;
  background-color: #f79646;
  color: white;
  margin: 20px 0;
}
</style>
```


==EmmFooter.vue==
```html
<template>
    <div class="footer"> 
        I'm footer 
        <EmmButton></EmmButton>
    </div>
        
</template>

<script>
import EmmButton from './EmmButton.vue'
    export default {
  components: { EmmButton },
    }
</script>

<style>
.footer {
    height: 100px;
    line-height: 100px;
    text-align: center;
    font-size: 30px;
    background-color: #4f81bd;
    color: white;
}
</style>
```