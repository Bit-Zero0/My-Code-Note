# C/C++内存区域划分


## 内存区域划分图
![[Pasted image 20220426121611.png | 内存区域图]]

* **内核空间**一般占用500M~1G的空间
*  **栈** 是==在内存中是**向下增长**==的 ，在Linux系统下，空间大概有 ==8M== ， 栈空间的数据是 ==后进先出== 的形式。
*  **内存映射段**  待学习...
* **堆** 在==内存中是向上增长==的， 堆内存很大，32位系统下，大概2~4G，`malloc`，`calloc` ,`realloc` 等函数开辟的空间就在堆区
* **数据段(静态区)**  存放 ==静态变量== 和 ==全局变量== 的区域。如`static` 修饰的函数 ^0c7d96
* **代码段(常量区)** 存放 ==可执行的代码/只读常量== ， ^908876


## 常用代码类型的区域
![[Pasted image 20220426122101.png]]
>1. 选择题：
选项: A.栈 B.堆 C.数据段 D.代码段
`globalVar`在哪里？ ==数据段==
`staticGlobalVar`在哪里？  ==数据段==
`staticVar`在哪里？  ==数据段==
`localVar`在哪里?  ==代码段==
`num1` 在哪里？ ==栈==
`char2`在哪里？ ==栈 ，char2是数组名，可以看作指向数组的指针==
`*char2`在哪里？ ==栈 ，char2是一个数组，把后面常量串拷贝过来到数组中，数组在栈上，所以*char2在栈上 ==
`pChar3`在哪里？  ==栈 ，因为pchar3是指针==
`*pChar3`在哪里？==代码段 ，解引用后的字符串是在代码段的==
`ptr1`在哪里？ ==栈== 
`*ptr1`在哪里？ ==堆 ，  *ptr1得到的是动态申请空间的数据在堆区==
>

>2. 填空题：
 sizeof(num1) = __40__;//数组大小,10个整形数据一共40字节
  sizeof(char2) = __5__;//包括\0的空间
  strlen(char2) = __4__;//不包括\0的长度
  sizeof(pChar3) = __4__;//pChar3为指针
  strlen(pChar3) = __4__;//字符串“abcd”的长度，不包括\0的长度
  sizeof(ptr1) = __4__;//ptr1是指针