---
Type: Note
tags:
  - 概率论
  - 数学
Status: writing
Start-date: 2024-12-10 21:47
Finish-date: 
Modified-date: 2024-12-10 21:53
Publish: false
---

# 全概率公式与贝叶斯公式

## 一、完备事件组

### 1. 什么是完备事件组？
==完备事件组==是一组事件，它们满足两个条件：
1. **互斥性**：任意两个事件不能同时发生
2. **完备性**：所有事件的和等于必然事件（样本空间）

> [!tip] 生活中的例子
> - 考试成绩可以分为：优秀、良好、及格、不及格
> - 天气状况可以分为：晴天、阴天、雨天
> - 这些分类都构成完备事件组

## 二、全概率公式

### 1. 为什么需要全概率公式？
在某些情况下，我们很难直接计算一个事件的概率，但如果把这个事件分解成几个部分，分别计算就会容易很多。

### 2. 全概率公式的内容
如果 B₁, B₂, ..., Bₙ 构成一个完备事件组，对于任意事件 A：

==**P(A) = P(B₁)P(A|B₁) + P(B₂)P(A|B₂) + ... + P(Bₙ)P(A|Bₙ)**==

> [!example] 经典例题
> 一个箱子里有两个盒子：
> - 盒子1：3个白球，2个黑球
> - 盒子2：2个白球，4个黑球
> 随机选一个盒子，再从中取一个球，求取到白球的概率。
> 
> 解析：
> 1. 设事件 A 为"取到白球"
> 2. B₁, B₂ 分别表示选中盒子1和盒子2
> 3. P(B₁) = P(B₂) = 1/2
> 4. P(A|B₁) = 3/5
> 5. P(A|B₂) = 2/6 = 1/3
> 6. P(A) = 1/2 × 3/5 + 1/2 × 1/3 = 0.467

## 三、贝叶斯公式

### 1. 贝叶斯公式的意义
==贝叶斯公式用于解决"已知结果，求原因"的概率问题==。它可以根据结果反推原因发生的概率。

### 2. 公式内容
==**P(Bᵢ|A) = [P(Bᵢ)P(A|Bᵢ)] / P(A)**==

其中：
- P(Bᵢ) 是==**先验概率**==（事前概率）
- P(Bᵢ|A) 是==**后验概率**==（事后概率）
- P(A|Bᵢ) 是==似然概率==

> [!example] 继续上面的例题
> 如果已经取到了白球，求这个球来自盒子1的概率。
> 
> 解析：
> 1. 已知：
>    - P(B₁) = 1/2
>    - P(A|B₁) = 3/5
>    - P(A) = 0.467
> 2. 代入贝叶斯公式：
>    P(B₁|A) = (1/2 × 3/5) / 0.467 ≈ 0.642
> 
> 所以取到白球时，这个球来自盒子1的概率约为64.2%

> [!tip] 理解要点
> 1. 全概率公式：将复杂事件分解为简单事件
> 2. 贝叶斯公式：通过结果反推原因
> 3. 两个公式经常结合使用：先用全概率求P(A)，再代入贝叶斯公式


## 练习题
1. 某工厂生产的产品由甲、乙两个车间加工。甲车间加工60%的产品，乙车间加工40%的产品。甲车间的合格率为95%，乙车间的合格率为90%。
   1) 求产品的总合格率
   2) 若某产品经检验为合格品，求该产品由甲车间生产的概率

> [!note]- 解析
> 1) 设事件A为"产品合格"
> - P(B₁) = 0.6（甲车间）
> - P(B₂) = 0.4（乙车间）
> - P(A|B₁) = 0.95
> - P(A|B₂) = 0.90
> - P(A) = 0.6 × 0.95 + 0.4 × 0.90 = 0.93
> 
> 2) 使用贝叶斯公式：
> P(B₁|A) = (0.6 × 0.95) / 0.93 ≈ 0.613
> 所以合格品来自甲车间的概率约为61.3%

2. 某医院对某种疾病的检测准确率为95%（即患病者被检测出阳性的概率为0.95，未患病者被检测出阴性的概率也为0.95）。已知该疾病在人群中的发病率为0.1%，若某人检测呈阳性，求该人实际患病的概率。

> [!note]- 解析
> 设：
> - A为"检测呈阳性"
> - B₁为"患病"，B₂为"未患病"
> - P(B₁) = 0.001（先验概率）
> - P(A|B₁) = 0.95（患病者呈阳性）
> - P(A|B₂) = 0.05（未患病者呈阳性）
> 
> 1. 先求P(A)：
> P(A) = 0.001 × 0.95 + 0.999 × 0.05 = 0.05095
> 
> 2. 用贝叶斯公式：
> P(B₁|A) = (0.001 × 0.95) / 0.05095 ≈ 0.0186
> 
> 因此，检测呈阳性的人实际患病的概率仅约为1.86%

3. 三个箱子中分别装有：
   - 箱子1：2个红球，3个白球
   - 箱子2：3个红球，2个白球
   - 箱子3：4个红球，1个白球
   随机选一个箱子，再从中摸两个球（不放回），求摸到的两个球都是红球的概率。

> [!note]- 解析
> 设事件A为"摸到两个红球"
> - P(B₁) = P(B₂) = P(B₃) = 1/3
> - P(A|B₁) = [2×1]/[5×4] = 1/10
> - P(A|B₂) = [3×2]/[5×4] = 3/10
> - P(A|B₃) = [4×3]/[5×4] = 6/10
> 
> 使用全概率公式：
> P(A) = 1/3 × 1/10 + 1/3 × 3/10 + 1/3 × 6/10
> = (1 + 3 + 6)/30
> = 1/3

4. 某公司新开发了三种产品A、B、C，销售比例分别为20%、30%、50%。根据市场调查，购买A产品的客户满意度为85%，B产品为90%，C产品为80%。若随机调查一位客户表示满意，求该客户购买的是B产品的概率。

> [!note]- 解析
> 设事件S为"客户表示满意"
> - P(A) = 0.2, P(B) = 0.3, P(C) = 0.5
> - P(S|A) = 0.85
> - P(S|B) = 0.90
> - P(S|C) = 0.80
> 
> 1. 先求P(S)：
> P(S) = 0.2 × 0.85 + 0.3 × 0.90 + 0.5 × 0.80 = 0.84
> 
> 2. 用贝叶斯公式求P(B|S)：
> P(B|S) = (0.3 × 0.90) / 0.84 ≈ 0.321
> 
> 因此，表示满意的客户购买B产品的概率约为32.1%

5. 某学校有甲、乙两个班级，甲班60人，乙班40人。甲班男生占40%，乙班男生占60%。从这两个班级中随机抽取一名学生，已知抽到的是男生，求该学生来自乙班的概率。

> [!note]-  解析
> 设事件M为"抽到男生"
> - P(A) = 60/100 = 0.6（甲班）
> - P(B) = 40/100 = 0.4（乙班）
> - P(M|A) = 0.4
> - P(M|B) = 0.6
> 
> 1. 先求P(M)：
> P(M) = 0.6 × 0.4 + 0.4 × 0.6 = 0.48
> 
> 2. 用贝叶斯公式求P(B|M)：
> P(B|M) = (0.4 × 0.6) / 0.48 = 0.5
> 
> 因此，抽到男生时来自乙班的概率为50%
