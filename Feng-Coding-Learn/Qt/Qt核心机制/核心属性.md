---
Modified-date: 2025-05-08 17:37
---

好的，我们来聊聊Qt中那些常用又好玩的控件！

**第三章 常用控件**

首先，咱们得搞明白一个事儿：**版权**！

> **“比特就业课”** 这个项目里的所有东西，不管是文字、图片、代码还是设计，都是项目开发者或者授权方的心血，版权归他们所有哦！
>
> 咱们个人学习、研究是完全没问题的，随便下载、看、用。但是，**==千万别没经过人家同意就拿去搞商业活动==**，比如卖钱、转让什么的，那可是侵权行为，会被“请去喝茶”的！
>
> 也别自作主张去改人家东西、复制粘贴得到处都是，或者拿去搞二次创作。如果真的有特殊需求，比如想引用、转载，**==一定记得先联系项目方拿到书面授权==**！
>
> 总之，感谢大家对“比特就业课”的关注和支持，他们会继续努力提供更好的学习体验！
>
> （悄悄说：对比特项目感兴趣？可以扫下面的码联系他们哦！）
>
> [二维码图片]
>
> **代码 & 板书链接:**
> `https://gitee.com/HGtz2222/qt-class`

好啦，版权声明结束，咱们进入正题！

**1. 控件概述 - 搭建界面的小积木**

`==**Widget**==` 是Qt世界的“超级明星”，你可以把它理解成一个个“小部件”或者咱们常说的“控件”。想象一下，我们平时看到的软件界面，比如按钮、输入框、列表等等，都是由这些“小积木”搭建起来的。

[图片展示：一个Qt Creator界面，用箭头和标签指出不同类型的控件，如按钮、树形视图、下拉框、滚动条、单行输入框、多行输入框]

> 比如上图里看到的：
> *   那个可以点的“**按钮**”
> *   显示文件结构的“**树形视图**”
> *   旁边的“**滚动条**”
> *   代码编辑区的“**多行输入框**”
> *   搜索框那样的“**单行输入框**”
> *   还有没画出来的“**下拉框**”、“**列表视图**”等等，这些统统都是控件！

Qt作为一个成熟的GUI（图形用户界面）开发框架，已经为我们准备了海量常用的控件。你打开Qt Designer（一个可视化设计界面的工具），就能看到琳琅满目的控件库。

[图片展示：Qt Designer左侧控件栏的一部分，显示了各种Layouts, Spacers, Buttons, Item Views, Item Widgets, Containers, Input Widgets等]

更酷的是，Qt还允许我们“**自定义控件**”！如果现有的控件满足不了你的特殊需求，你可以对它们进行扩展，甚至从零开始“手搓”一个全新的控件出来。这可就给了开发者极大的自由度！

> 💰 **小贴士：学好Qt，熟悉并掌握这些内置控件是基本功！**
> 掌握了这些控件，我们就能快速地搭建出符合用户需求的界面，这对于开发效率来说是==至关重要的==！

**控件体系是怎么发展过来的呢？**

其实，控件这个概念在GUI开发中是通用的，不只是Qt有。它的发展也经历了好几个阶段：

*   **第一阶段：啥控件都没有的“石器时代”** 😱
    那时候，想在屏幕上画个按钮、输入框，都得靠开发者自己用绘图API一点点“画”出来，代码写起来那叫一个繁琐。想想文曲星上用Lava平台开发应用的场景，大概就是那种感觉。
    [图片展示：一个老式文曲星的界面]

*   **第二阶段：“粗犷型”控件的出现** 🌱
    这个阶段有了一些基本的控件，比如按钮、输入框、单选框、复选框这些最常用的。但功能和样式都比较简单。比如早期的HTML原生控件就是这样。
    [图片展示：一个早期网页的截图，包含一些简单的HTML表单控件]

*   **第三阶段：控件体系“大爆发”** 🚀
    现在，我们有了更完整、更丰富的控件体系，基本上能覆盖GUI开发中的绝大部分场景。
    像早期的MFC、VB、C++ Builder，以及后来的Qt、Delphi，还有现在的Android SDK、Java FX，以及前端的各种UI库（比如Element UI），都提供了非常强大的控件支持。
    [图片展示：Element UI的按钮组件示例，展示了各种颜色、类型的按钮]
    > 看看上面Element UI的按钮，是不是比Qt自带的按钮在“颜值”和“丰富度”上更胜一筹？这也说明控件技术一直在进步！

**2. QWidget 核心属性 - 控件的“通用技能点”**

在Qt的世界里，`==**QWidget**==` 类就是所有控件的“老祖宗”。我们前面提到的按钮、视图、输入框这些具体的控件类，都是从 `QWidget` 继承过来的。所以，`QWidget` 包含了很多控件通用的属性和功能。

在Qt Designer里，你随便拖一个控件到界面上，选中它，然后在右下角的属性编辑器里就能看到一大堆从 `QWidget` 继承来的属性。

[图片展示：Qt Designer界面，左侧是控件列表，中间是设计区的一个按钮，右侧是属性编辑器，高亮显示QWidget相关的属性，如objectName, enabled, geometry等]

这些属性，你既可以在Qt Designer里直接修改，也可以通过写代码来动态改变。想知道每个属性的具体含义？`==Qt Assistant==`（Qt的官方帮助文档）是你的好朋友！在Assistant里搜索 `QWidget`，就能找到详细的说明文档。（小技巧：在Qt Creator的代码编辑器里，选中 `QWidget` 然后按 `F1` 键，也能快速跳转到帮助文档哦！）

**2.1 核心属性概览 - 常用技能表**

下面这张表列出了一些 `QWidget` 中非常重要且常用的属性和它们的作用：

| 属性                | 作用                                                                                                                               |
| :------------------ | :--------------------------------------------------------------------------------------------------------------------------------- |
| `==enabled==`       | 设置控件是否可用。`true` 表示可用（能点、能输、能交互），`false` 表示禁用（通常变灰，不响应操作）。                                                    |
| `geometry`          | ==**控件的位置和尺寸**==。它是一个 `QRect` 对象，包含了 `x`, `y` (相对于父控件的左上角坐标), `width` (宽度), 和 `height` (高度) 四个部分。                     |
| `windowTitle`       | 如果这个 `QWidget` 是一个独立的窗口（顶级窗口），这个属性用来设置==窗口的标题文字==。                                                                     |
| `windowIcon`        | 如果这个 `QWidget` 是一个独立的窗口，这个属性用来设置==窗口的左上角图标和任务栏图标==。                                                                   |
| `windowOpacity`     | 设置 `QWidget` (通常是顶级窗口) 的==透明度==。取值范围是 `0.0` (完全透明) 到 `1.0` (完全不透明)。                                                        |
| `cursor`            | 当鼠标光标悬停在 `QWidget` 上时，显示的==光标形状==。比如是普通箭头、手形、沙漏还是十字形等等。Qt Designer里有很多预设的选项。                                        |
| `font`              | ==字体相关的属性==。包括字体家族 (比如 “宋体”, “微软雅黑”)、字体大小、是否粗体、是否斜体、是否有下划线等等。                                                       |
| `toolTip`           | 当鼠标光标在 `QWidget` 上悬停一段时间后，会弹出一个==小提示框==，这个属性就是设置提示框里的文字。                                                                 |
| `toolTipDuration`   | `toolTip` 显示的==持续时间== (单位是毫秒)。                                                                                              |
| `statusTip`         | 当 `QWidget` 的状态发生改变时 (比如一个按钮被按下)，在应用程序的==状态栏里显示的提示信息==。                                                                 |
| `whatsThis`         | 当鼠标光标悬停在 `QWidget` 上并按下 `Alt+F1` (或者点击某些帮助按钮) 时，会弹出一个==更详细的帮助信息窗口==。这个属性就是设置帮助窗口里的内容。                                |
| `==styleSheet==`    | 允许使用==**类似CSS (层叠样式表) 的语法来设置 `QWidget` 的各种样式**==。Qt对CSS的支持非常丰富，对于有前端经验的同学来说上手会非常快！                               |
| `focusPolicy`       | 这个 `QWidget` ==如何获取键盘焦点==的策略。比如：                                                                                             |
|                     | *   `Qt::NoFocus`：控件不参与焦点管理，不能通过键盘或鼠标获取焦点。                                                                                      |
|                     | *   `Qt::TabFocus`：控件可以通过按 `Tab` 键获得焦点。                                                                                              |
|                     | *   `Qt::ClickFocus`：控件可以通过鼠标点击获得焦点。                                                                                              |
|                     | *   `==Qt::StrongFocus==`：控件可以通过键盘 (如 `Tab` 键) 和鼠标点击获得焦点 (这是很多交互控件的默认值)。                                                             |
|                     | *   `Qt::WheelFocus`：控件可以通过鼠标滚轮获得焦点 (在某些平台或样式下可能不可用)。                                                                               |
| `contextMenuPolicy` | ==上下文菜单 (通常是鼠标右键菜单) 的显示策略==。比如：                                                                                             |
|                     | *   `Qt::DefaultContextMenu`：默认策略，用户可以通过鼠标右键或键盘快捷键触发上下文菜单。                                                                          |
|                     | *   `Qt::NoContextMenu`：禁用上下文菜单，即使右键点击也不会显示。                                                                                          |
|                     | *   `Qt::PreventContextMenu`：阻止控件显示上下文菜单，即使右键点击也不会显示。                                                                                   |
|                     | *   `Qt::ActionsContextMenu`：将控件的“动作” (Actions) 作为上下文菜单的内容显示出来。                                                                            |
|                     | *   `Qt::CustomContextMenu`：使用自定义的上下文菜单，需要自己处理 `customContextMenuRequested` 信号。                                                              |
| `locale`            | 设置语言和国家/地区，主要用于国际化和本地化。                                                                                                 |
| `acceptDrops`       | 该控件是否接受==拖放操作==。如果设为 `true`，当其他控件被拖到这个控件上时，它会收到相关的拖放事件 (比如 `dropEvent`)。                                                     |
| `minimumSize`       | 控件的==最小尺寸==，包含最小宽度和最小高度。布局管理器在布局时会尊重这个限制。                                                                                    |
| `maximumSize`       | 控件的==最大尺寸==，包含最大宽度和最大高度。布局管理器在布局时也会尊重这个限制。                                                                                    |
| `sizePolicy`        | ==尺寸策略==。当控件被放在布局管理器中时，这个属性决定了控件如何根据可用空间进行缩放。                                                                               |
| `windowModality`    | 指定窗口是否具有“==模态==”行为。模态窗口会阻塞其他窗口的交互，直到它被关闭。                                                                                    |
| `sizeIncrement`     | 拖动窗口改变大小时的==增量单位==。比如设为 (10, 10)，那么每次拖动改变大小时，宽度和高度都会以10像素为单位变化。                                                              |
| `baseSize`          | 窗口的==基础大小==，通常和 `sizeIncrement` 配合使用，用来计算窗口调整大小后的合适尺寸。                                                                           |
| `palette`           | ==调色板==。可以用来设置 `QWidget` 的各种颜色风格，比如背景色、前景色等。                                                                                     |
| `mouseTracking`     | 是否==持续跟踪鼠标移动事件==。如果设为 `true`，那么只要鼠标在控件内移动，即使没有按下鼠标按键，控件也会持续收到鼠标移动事件。如果设为 `false` (默认)，则只有在鼠标按键按下的情况下移动鼠标，或者鼠标进入/离开控件时才会收到相关事件。 |
| `tabletTracking`    | 是否跟踪==触摸屏的移动事件==。类似于 `mouseTracking`，是Qt 5.9引入的新属性。                                                                                 |
| `layoutDirection`   | ==布局方向==。主要影响文本的排列方向，比如：                                                                                                    |
|                     | *   `Qt::LeftToRight`：文本从左到右排列 (默认值)。                                                                                                |
|                     | *   `Qt::RightToLeft`：文本从右到左排列 (比如阿拉伯语、希伯来语)。                                                                                           |
|                     | *   `Qt::LayoutDirectionAuto` (之前版本可能叫 `Qt::GlobalAtomics`)：部件的布局方向由应用程序的全局设置或其他 `widget` 的布局方向决定。                                       |
| `autoFillBackground`| 是否==自动填充背景颜色==。如果为 `true`，控件会使用调色板中的背景色自动填充。                                                                                   |
| `windowFilePath`    | 可以将 `QWidget` 和一个本地文件路径关联起来。说实话，这个属性用得不多。                                                                                        |
| `accessibleName`    | 设置 `QWidget` 的==可访问名称==。这个名称可以被辅助技术 (比如屏幕阅读器，专为视障人士设计) 获取到，用于提高程序的可访问性。                                                            |
| `accessibleDescription` | 设置 `QWidget` 的==详细描述==。作用和 `accessibleName` 类似，提供更详细的辅助信息。                                                                            |
| `inputMethodHints`  | 主要针对输入框控件，用来==提示用户当前输入框期望输入的数据格式==。比如提示只能输入数字、日期，或者提供输入法的一些行为建议。                                                               |

> 📢 **友情提示**：
> 这一章接下来的每个代码示例，我们都会创建一个独立的Qt项目来演示。为了简洁，我们会省略掉创建项目的具体步骤，大家跟着操作就好啦！

接下来，我们会挑一些特别重要、特别常用的属性，配上代码示例，带大家深入体验一下！🚀