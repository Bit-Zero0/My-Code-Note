---
Type: Note
tags: 
  - 算法
  - 基础
  - CPP
Status: writing
Start-date: 2025-01-22 14:10
Finish-date: 
Modified-date: 2025-01-22 22:54
Publish: false
---


# 495. 提莫攻击
[495. 提莫攻击](https://leetcode.cn/problems/teemo-attacking/)

## 题目描述
在《英雄联盟》中，提莫是一个可以释放毒蘑菇的英雄。他的攻击会使敌人中毒，中毒状态会持续一段时间。现在，我们需要计算敌人中毒的总时长。

**输入：**
- `timeSeries`一个整数数组，表示提莫攻击的时间点（单位：秒）。
- `duration`：一个整数，表示每次攻击的中毒持续时间（单位：秒）。

**输出：**
- 一个整数，表示敌人中毒的总时长。

**示例：**
1. 输入：`timeSeries = [1, 4]`，`duration = 2`  
    输出：`4`  
    解释：第一次攻击在第 1 秒，中毒时间从第 1 秒到第 3 秒；第二次攻击在第 4 秒，中毒时间从第 4 秒到第 6 秒。总中毒时间是 4 秒。
    
2. 输入：`timeSeries = [1, 2]`，`duration = 2`  
    输出：`3`  
    解释：第一次攻击在第 1 秒，中毒时间从第 1 秒到第 3 秒；第二次攻击在第 2 秒，中毒时间从第 2 秒到第 4 秒。总中毒时间是 3 秒（第 2 秒重复计算）。

**注意：**
- 如果两次攻击的时间间隔小于中毒持续时间，则中毒时间会重叠。


## 解题思路
题目要求计算敌人中毒的总时长。由于攻击可能重叠，我们需要考虑每次攻击的中毒时间是否与下一次攻击重叠。

**核心思想：**
1. 遍历攻击时间序列 `timeSeries`。
2. 对于每次攻击，计算其与下一次攻击的时间间隔。
3. 如果时间间隔小于中毒持续时间，则中毒时间只能计算到下一次攻击的时间点。
4. 如果时间间隔大于或等于中毒持续时间，则中毒时间可以完整计算为 `duration`。
5. 最后，加上最后一次攻击的完整中毒时间。

### 算法流程
1. **初始化中毒时间：**
    - 初始化一个变量 `poisonTime` 用于记录总中毒时间。

2. **遍历攻击时间序列：**
    - 使用循环从第 1 次攻击开始，逐个检查每次攻击。
    - 对于每次攻击，计算与下一次攻击的时间间隔 `poisonInterval`。
        
3. **计算中毒时间：**
    - 如果时间间隔小于中毒持续时间，则中毒时间加上 `poisonInterval`。
    - 否则，中毒时间加上 `duration`。
        
4. **处理最后一次攻击：**
    - 最后一次攻击的中毒时间是完整的 `duration`。
        
5. **返回结果：**
    - 返回总中毒时间。

## C++代码

```cpp
class Solution {
public:
    int findPoisonedDuration(vector<int>& timeSeries, int duration) {
        // 初始化总中毒时间
        int poisonTime = 0;

        // 遍历攻击时间序列，从第 1 次攻击开始
        for (int i = 1; i < timeSeries.size(); i++) {
            // 计算当前攻击与下一次攻击的时间间隔
            int poisonInterval = timeSeries[i] - timeSeries[i - 1];

            // 判断时间间隔是否小于中毒持续时间
            if (poisonInterval < duration) {
                // 如果时间间隔小于中毒持续时间，中毒时间加上时间间隔
                poisonTime += poisonInterval;
            } else {
                // 否则，中毒时间加上完整的中毒持续时间
                poisonTime += duration;
            }
        }

        // 加上最后一次攻击的完整中毒时间
        return poisonTime + duration;
    }
};
```

### **代码解释**
1. **初始化总中毒时间：**
    - `int poisonTime = 0;` 初始化总中毒时间为 0。

2. **遍历攻击时间序列：**
    - 使用 `for` 循环从第 1 次攻击开始，逐个检查每次攻击。

3. **计算时间间隔：**
    - `int poisonInterval = timeSeries[i] - timeSeries[i - 1];` 计算当前攻击与下一次攻击的时间间隔。

4. **判断并累加中毒时间：**
    - 如果时间间隔小于中毒持续时间，则中毒时间加上时间间隔。
    - 否则，中毒时间加上完整的中毒持续时间。

5. **处理最后一次攻击：**
    - 最后一次攻击的中毒时间是完整的 `duration`，因此在返回结果时加上 `duration`。



