/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/
"use strict";var dt=Object.defineProperty;var Or=Object.getOwnPropertyDescriptor;var kr=Object.getOwnPropertyNames;var Mr=Object.prototype.hasOwnProperty;var Er=(r,e)=>{for(var t in e)dt(r,t,{get:e[t],enumerable:!0})},vr=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of kr(e))!Mr.call(r,o)&&o!==t&&dt(r,o,{get:()=>e[o],enumerable:!(n=Or(e,o))||n.enumerable});return r};var Nr=r=>vr(dt({},"__esModule",{value:!0}),r);var Gn={};Er(Gn,{default:()=>Xn});module.exports=Nr(Gn);var ut=require("obsidian");var Z={ignoredFolders:[]};var H=require("obsidian");var Yt=Symbol.for("immer-nothing"),Mt=Symbol.for("immer-draftable"),T=Symbol.for("immer-state"),Fr=process.env.NODE_ENV!=="production"?[function(r){return`The plugin for '${r}' has not been loaded into Immer. To enable the plugin, import and call \`enable${r}()\` when initializing your application.`},function(r){return`produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${r}'`},"This object has been frozen and should not be mutated",function(r){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+r},"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.","Immer forbids circular references","The first or second argument to `produce` must be a function","The third argument to `produce` must be a function or undefined","First argument to `createDraft` must be a plain object, an array, or an immerable object","First argument to `finishDraft` must be a draft returned by `createDraft`",function(r){return`'current' expects a draft, got: ${r}`},"Object.defineProperty() cannot be used on an Immer draft","Object.setPrototypeOf() cannot be used on an Immer draft","Immer only supports deleting array indices","Immer only supports setting array indices and the 'length' property",function(r){return`'original' expects a draft, got: ${r}`}]:[];function D(r,...e){if(process.env.NODE_ENV!=="production"){let t=Fr[r],n=typeof t=="function"?t.apply(null,e):t;throw new Error(`[Immer] ${n}`)}throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var z=Object.getPrototypeOf;function Q(r){return!!r&&!!r[T]}function C(r){return r?It(r)||Array.isArray(r)||!!r[Mt]||!!r.constructor?.[Mt]||fe(r)||de(r):!1}var Yr=Object.prototype.constructor.toString();function It(r){if(!r||typeof r!="object")return!1;let e=z(r);if(e===null)return!0;let t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===Yr}function ie(r,e){ue(r)===0?Reflect.ownKeys(r).forEach(t=>{e(t,r[t],r)}):r.forEach((t,n)=>e(n,t,r))}function ue(r){let e=r[T];return e?e.type_:Array.isArray(r)?1:fe(r)?2:de(r)?3:0}function pt(r,e){return ue(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function Wt(r,e,t){let n=ue(r);n===2?r.set(e,t):n===3?r.add(t):r[e]=t}function Ir(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function fe(r){return r instanceof Map}function de(r){return r instanceof Set}function A(r){return r.copy_||r.base_}function ht(r,e){if(fe(r))return new Map(r);if(de(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);if(!e&&It(r))return z(r)?{...r}:Object.assign(Object.create(null),r);let t=Object.getOwnPropertyDescriptors(r);delete t[T];let n=Reflect.ownKeys(t);for(let o=0;o<n.length;o++){let s=n[o],i=t[s];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[s]={configurable:!0,writable:!0,enumerable:i.enumerable,value:r[s]})}return Object.create(z(r),t)}function bt(r,e=!1){return me(r)||Q(r)||!C(r)||(ue(r)>1&&(r.set=r.add=r.clear=r.delete=Wr),Object.freeze(r),e&&Object.entries(r).forEach(([t,n])=>bt(n,!0))),r}function Wr(){D(2)}function me(r){return Object.isFrozen(r)}var Ar={};function L(r){let e=Ar[r];return e||D(0,r),e}var ee;function At(){return ee}function Cr(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Et(r,e){e&&(L("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function gt(r){wt(r),r.drafts_.forEach(Lr),r.drafts_=null}function wt(r){r===ee&&(ee=r.parent_)}function vt(r){return ee=Cr(ee,r)}function Lr(r){let e=r[T];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Nt(r,e){e.unfinalizedDrafts_=e.drafts_.length;let t=e.drafts_[0];return r!==void 0&&r!==t?(t[T].modified_&&(gt(e),D(4)),C(r)&&(r=ae(e,r),e.parent_||ce(e,r)),e.patches_&&L("Patches").generateReplacementPatches_(t[T].base_,r,e.patches_,e.inversePatches_)):r=ae(e,t,[]),gt(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==Yt?r:void 0}function ae(r,e,t){if(me(e))return e;let n=e[T];if(!n)return ie(e,(o,s)=>Ft(r,n,e,o,s,t)),e;if(n.scope_!==r)return e;if(!n.modified_)return ce(r,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;let o=n.copy_,s=o,i=!1;n.type_===3&&(s=new Set(o),o.clear(),i=!0),ie(s,(c,h)=>Ft(r,n,o,c,h,t,i)),ce(r,o,!1),t&&r.patches_&&L("Patches").generatePatches_(n,t,r.patches_,r.inversePatches_)}return n.copy_}function Ft(r,e,t,n,o,s,i){if(process.env.NODE_ENV!=="production"&&o===t&&D(5),Q(o)){let c=s&&e&&e.type_!==3&&!pt(e.assigned_,n)?s.concat(n):void 0,h=ae(r,o,c);if(Wt(t,n,h),Q(h))r.canAutoFreeze_=!1;else return}else i&&t.add(o);if(C(o)&&!me(o)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;ae(r,o),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,n)&&ce(r,o)}}function ce(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&bt(e,t)}function Hr(r,e){let t=Array.isArray(r),n={type_:t?1:0,scope_:e?e.scope_:At(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1},o=n,s=_t;t&&(o=[n],s=te);let{revoke:i,proxy:c}=Proxy.revocable(o,s);return n.draft_=c,n.revoke_=i,c}var _t={get(r,e){if(e===T)return r;let t=A(r);if(!pt(t,e))return Rr(r,t,e);let n=t[e];return r.finalized_||!C(n)?n:n===mt(r.base_,e)?(lt(r),r.copy_[e]=xt(n,r)):n},has(r,e){return e in A(r)},ownKeys(r){return Reflect.ownKeys(A(r))},set(r,e,t){let n=Ct(A(r),e);if(n?.set)return n.set.call(r.draft_,t),!0;if(!r.modified_){let o=mt(A(r),e),s=o?.[T];if(s&&s.base_===t)return r.copy_[e]=t,r.assigned_[e]=!1,!0;if(Ir(t,o)&&(t!==void 0||pt(r.base_,e)))return!0;lt(r),yt(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_[e]=!0),!0},deleteProperty(r,e){return mt(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,lt(r),yt(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){let t=A(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty(){D(11)},getPrototypeOf(r){return z(r.base_)},setPrototypeOf(){D(12)}},te={};ie(_t,(r,e)=>{te[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});te.deleteProperty=function(r,e){return process.env.NODE_ENV!=="production"&&isNaN(parseInt(e))&&D(13),te.set.call(this,r,e,void 0)};te.set=function(r,e,t){return process.env.NODE_ENV!=="production"&&e!=="length"&&isNaN(parseInt(e))&&D(14),_t.set.call(this,r[0],e,t,r[0])};function mt(r,e){let t=r[T];return(t?A(t):r)[e]}function Rr(r,e,t){let n=Ct(e,t);return n?"value"in n?n.value:n.get?.call(r.draft_):void 0}function Ct(r,e){if(!(e in r))return;let t=z(r);for(;t;){let n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=z(t)}}function yt(r){r.modified_||(r.modified_=!0,r.parent_&&yt(r.parent_))}function lt(r){r.copy_||(r.copy_=ht(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var qr=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if(typeof e=="function"&&typeof t!="function"){let s=t;t=e;let i=this;return function(h=s,...y){return i.produce(h,x=>t.call(this,x,...y))}}typeof t!="function"&&D(6),n!==void 0&&typeof n!="function"&&D(7);let o;if(C(e)){let s=vt(this),i=xt(e,void 0),c=!0;try{o=t(i),c=!1}finally{c?gt(s):wt(s)}return Et(s,n),Nt(o,s)}else if(!e||typeof e!="object"){if(o=t(e),o===void 0&&(o=e),o===Yt&&(o=void 0),this.autoFreeze_&&bt(o,!0),n){let s=[],i=[];L("Patches").generateReplacementPatches_(e,o,s,i),n(s,i)}return o}else D(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(i,...c)=>this.produceWithPatches(i,h=>e(h,...c));let n,o;return[this.produce(e,t,(i,c)=>{n=i,o=c}),n,o]},typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof r?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){C(r)||D(8),Q(r)&&(r=Sr(r));let e=vt(this),t=xt(r,void 0);return t[T].isManual_=!0,wt(e),t}finishDraft(r,e){let t=r&&r[T];(!t||!t.isManual_)&&D(9);let{scope_:n}=t;return Et(n,e),Nt(void 0,n)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let t;for(t=e.length-1;t>=0;t--){let o=e[t];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}t>-1&&(e=e.slice(t+1));let n=L("Patches").applyPatches_;return Q(r)?n(r,e):this.produce(r,o=>n(o,e))}};function xt(r,e){let t=fe(r)?L("MapSet").proxyMap_(r,e):de(r)?L("MapSet").proxySet_(r,e):Hr(r,e);return(e?e.scope_:At()).drafts_.push(t),t}function Sr(r){return Q(r)||D(10,r),Lt(r)}function Lt(r){if(!C(r)||me(r))return r;let e=r[T],t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=ht(r,e.scope_.immer_.useStrictShallowCopy_)}else t=ht(r,!0);return ie(t,(n,o)=>{Wt(t,n,Lt(o))}),e&&(e.finalized_=!1),t}var O=new qr,B=O.produce,$n=O.produceWithPatches.bind(O),jn=O.setAutoFreeze.bind(O),Kn=O.setUseStrictShallowCopy.bind(O),Jn=O.applyPatches.bind(O),Zn=O.createDraft.bind(O),eo=O.finishDraft.bind(O);var Ht=(r,e,t)=>t.indexOf(r)===e;var pe=require("obsidian"),le=class extends pe.AbstractInputSuggest{constructor(t,n){super(n,t);this.inputEl=t}getSuggestions(t){let n=this.app.vault.getAllLoadedFiles(),o=[],s=t.toLowerCase();return n.forEach(i=>{i instanceof pe.TFolder&&i.path.toLowerCase().contains(s)&&o.push(i)}),o}renderSuggestion(t,n){n.setText(t.path)}selectSuggestion(t){this.inputEl.value=t.path,this.close()}};var he=class extends H.PluginSettingTab{constructor(e,t){super(e,t),this.plugin=t}display(){let{containerEl:e}=this;e.empty(),this.renderExcludedFolders(),this.renderSupportHeader(e)}renderSupportHeader(e){new H.Setting(e).setName("Support").setHeading();let t=new DocumentFragment;t.createDiv({text:"Buy me a coffee to support the development of this plugin \u2764\uFE0F"}),new H.Setting(e).setDesc(t),this.renderBuyMeACoffeeBadge(e),e.createDiv().classList.add("support-header-margin")}renderExcludedFolders(){this.doSearchAndRemoveList({currentList:this.plugin.settings.ignoredFolders,setValue:async e=>{this.plugin.settings=B(this.plugin.settings,t=>{t.ignoredFolders=e})},name:"Folders to exclude",description:"Any file created or updated in one of these folders will not trigger an update of the created and updated fields."})}doSearchAndRemoveList({currentList:e,setValue:t,description:n,name:o}){let s;new H.Setting(this.containerEl).setName(o).setDesc(n).addSearch(i=>{s=i,new le(i.inputEl,this.app),i.setPlaceholder("Example: folder1/folder2")}).addButton(i=>{i.setIcon("plus"),i.setTooltip("Add folder"),i.onClick(async()=>{if(!s)return;let c=s.getValue();await t([...e,c].filter(Ht)),await this.plugin.saveSettings(),s.setValue(""),this.display()})}),e.forEach(i=>new H.Setting(this.containerEl).setName(i).addButton(c=>c.setButtonText("Remove").onClick(async()=>{await t(e.filter(h=>h!==i)),await this.plugin.saveSettings(),this.display()})))}renderBuyMeACoffeeBadge(e,t=175){let o=e.createEl("a",{href:"https://www.buymeacoffee.com/dsebastien"}).createEl("img");o.src="https://github.com/dsebastien/obsidian-plugin-template/raw/main/apps/plugin/src/assets/buy-me-a-coffee.png",o.alt="Buy me a coffee",o.width=t}};var Rt="Update Time";var Br=`${Rt}:`,k=(r,e,...t)=>{let n=`${Br} ${r}`;switch(e){case"debug":console.debug(n,t);break;case"info":console.info(n,t);break;case"warn":console.warn(n,t);break;case"error":console.error(n,t);break;default:console.log(n,t)}};var qt=r=>{let e=typeof ExcalidrawAutomate>"u"?void 0:ExcalidrawAutomate;return e?e.isExcalidrawFile(r):!1};var St="Canvas.md",zt="md",R="yyyy-MM-dd'T'HH:mm";var Qt="created",Bt="updated";function u(r){let e=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&e==="[object Date]"?new r.constructor(+r):typeof r=="number"||e==="[object Number]"||typeof r=="string"||e==="[object String]"?new Date(r):new Date(NaN)}function d(r,e){return r instanceof Date?new r.constructor(e):new Date(e)}function X(r,e){let t=u(r);return isNaN(e)?d(r,NaN):(e&&t.setDate(t.getDate()+e),t)}function Xt(r,e){let t=u(r);if(isNaN(e))return d(r,NaN);if(!e)return t;let n=t.getDate(),o=d(r,t.getTime());o.setMonth(t.getMonth()+e+1,0);let s=o.getDate();return n>=s?o:(t.setFullYear(o.getFullYear(),o.getMonth(),n),t)}function Gt(r,e){let{years:t=0,months:n=0,weeks:o=0,days:s=0,hours:i=0,minutes:c=0,seconds:h=0}=e,y=u(r),x=n||t?Xt(y,n+t*12):y,b=s||o?X(x,s+o*7):x,I=c+i*60,se=(h+I*60)*1e3;return d(r,b.getTime()+se)}var Xr=Math.pow(10,8)*24*60*60*1e3,Fo=-Xr,ge=6048e5,Vt=864e5,Ut=6e4,$t=36e5,jt=1e3;var Gr=3600;var Kt=Gr*24,Yo=Kt*7,Vr=Kt*365.2425,Ur=Vr/12,Io=Ur*3;var $r={};function M(){return $r}function P(r,e){let t=M(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,o=u(r),s=o.getDay(),i=(s<n?7:0)+s-n;return o.setDate(o.getDate()-i),o.setHours(0,0,0,0),o}function N(r){return P(r,{weekStartsOn:1})}function we(r){let e=u(r),t=e.getFullYear(),n=d(r,0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);let o=N(n),s=d(r,0);s.setFullYear(t,0,4),s.setHours(0,0,0,0);let i=N(s);return e.getTime()>=o.getTime()?t+1:e.getTime()>=i.getTime()?t:t-1}function Dt(r){let e=u(r);return e.setHours(0,0,0,0),e}function q(r){let e=u(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function Jt(r,e){let t=Dt(r),n=Dt(e),o=+t-q(t),s=+n-q(n);return Math.round((o-s)/Vt)}function Zt(r){let e=we(r),t=d(r,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),N(t)}function er(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function tr(r){if(!er(r)&&typeof r!="number")return!1;let e=u(r);return!isNaN(Number(e))}function rr(r){let e=u(r),t=d(r,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}var jr={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nr=(r,e,t)=>{let n,o=jr[r];return typeof o=="string"?n=o:e===1?n=o.one:n=o.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function ye(r){return(e={})=>{let t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}var Kr={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Jr={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Zr={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},or={date:ye({formats:Kr,defaultWidth:"full"}),time:ye({formats:Jr,defaultWidth:"full"}),dateTime:ye({formats:Zr,defaultWidth:"full"})};var en={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sr=(r,e,t,n)=>en[r];function G(r){return(e,t)=>{let n=t?.context?String(t.context):"standalone",o;if(n==="formatting"&&r.formattingValues){let i=r.defaultFormattingWidth||r.defaultWidth,c=t?.width?String(t.width):i;o=r.formattingValues[c]||r.formattingValues[i]}else{let i=r.defaultWidth,c=t?.width?String(t.width):r.defaultWidth;o=r.values[c]||r.values[i]}let s=r.argumentCallback?r.argumentCallback(e):e;return o[s]}}var tn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},on={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},sn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},an={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cn=(r,e)=>{let t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},ir={ordinalNumber:cn,era:G({values:tn,defaultWidth:"wide"}),quarter:G({values:rn,defaultWidth:"wide",argumentCallback:r=>r-1}),month:G({values:nn,defaultWidth:"wide"}),day:G({values:on,defaultWidth:"wide"}),dayPeriod:G({values:sn,defaultWidth:"wide",formattingValues:an,defaultFormattingWidth:"wide"})};function V(r){return(e,t={})=>{let n=t.width,o=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=e.match(o);if(!s)return null;let i=s[0],c=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],h=Array.isArray(c)?fn(c,b=>b.test(i)):un(c,b=>b.test(i)),y;y=r.valueCallback?r.valueCallback(h):h,y=t.valueCallback?t.valueCallback(y):y;let x=e.slice(i.length);return{value:y,rest:x}}}function un(r,e){for(let t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function fn(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function ar(r){return(e,t={})=>{let n=e.match(r.matchPattern);if(!n)return null;let o=n[0],s=e.match(r.parsePattern);if(!s)return null;let i=r.valueCallback?r.valueCallback(s[0]):s[0];i=t.valueCallback?t.valueCallback(i):i;let c=e.slice(o.length);return{value:i,rest:c}}}var dn=/^(\d+)(th|st|nd|rd)?/i,mn=/\d+/i,ln={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pn={any:[/^b/i,/^(a|c)/i]},hn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gn={any:[/1/i,/2/i,/3/i,/4/i]},wn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_n={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Dn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cr={ordinalNumber:ar({matchPattern:dn,parsePattern:mn,valueCallback:r=>parseInt(r,10)}),era:V({matchPatterns:ln,defaultMatchWidth:"wide",parsePatterns:pn,defaultParseWidth:"any"}),quarter:V({matchPatterns:hn,defaultMatchWidth:"wide",parsePatterns:gn,defaultParseWidth:"any",valueCallback:r=>r+1}),month:V({matchPatterns:wn,defaultMatchWidth:"wide",parsePatterns:yn,defaultParseWidth:"any"}),day:V({matchPatterns:xn,defaultMatchWidth:"wide",parsePatterns:bn,defaultParseWidth:"any"}),dayPeriod:V({matchPatterns:_n,defaultMatchWidth:"any",parsePatterns:Dn,defaultParseWidth:"any"})};var re={code:"en-US",formatDistance:nr,formatLong:or,formatRelative:sr,localize:ir,match:cr,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ur(r){let e=u(r);return Jt(e,rr(e))+1}function xe(r){let e=u(r),t=+N(e)-+Zt(e);return Math.round(t/ge)+1}function U(r,e){let t=u(r),n=t.getFullYear(),o=M(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,i=d(r,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);let c=P(i,e),h=d(r,0);h.setFullYear(n,0,s),h.setHours(0,0,0,0);let y=P(h,e);return t.getTime()>=c.getTime()?n+1:t.getTime()>=y.getTime()?n:n-1}function fr(r,e){let t=M(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,o=U(r,e),s=d(r,0);return s.setFullYear(o,0,n),s.setHours(0,0,0,0),P(s,e)}function be(r,e){let t=u(r),n=+P(t,e)-+fr(t,e);return Math.round(n/ge)+1}function g(r,e){let t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}var Y={y(r,e){let t=r.getFullYear(),n=t>0?t:1-t;return g(e==="yy"?n%100:n,e.length)},M(r,e){let t=r.getMonth();return e==="M"?String(t+1):g(t+1,2)},d(r,e){return g(r.getDate(),e.length)},a(r,e){let t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return g(r.getHours()%12||12,e.length)},H(r,e){return g(r.getHours(),e.length)},m(r,e){return g(r.getMinutes(),e.length)},s(r,e){return g(r.getSeconds(),e.length)},S(r,e){let t=e.length,n=r.getMilliseconds(),o=Math.trunc(n*Math.pow(10,t-3));return g(o,e.length)}};var $={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Pt={G:function(r,e,t){let n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){let n=r.getFullYear(),o=n>0?n:1-n;return t.ordinalNumber(o,{unit:"year"})}return Y.y(r,e)},Y:function(r,e,t,n){let o=U(r,n),s=o>0?o:1-o;if(e==="YY"){let i=s%100;return g(i,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):g(s,e.length)},R:function(r,e){let t=we(r);return g(t,e.length)},u:function(r,e){let t=r.getFullYear();return g(t,e.length)},Q:function(r,e,t){let n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return g(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){let n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return g(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){let n=r.getMonth();switch(e){case"M":case"MM":return Y.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){let n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return g(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){let o=be(r,n);return e==="wo"?t.ordinalNumber(o,{unit:"week"}):g(o,e.length)},I:function(r,e,t){let n=xe(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):g(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):Y.d(r,e)},D:function(r,e,t){let n=ur(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):g(n,e.length)},E:function(r,e,t){let n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){let o=r.getDay(),s=(o-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return g(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){let o=r.getDay(),s=(o-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return g(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(r,e,t){let n=r.getDay(),o=n===0?7:n;switch(e){case"i":return String(o);case"ii":return g(o,e.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){let o=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(r,e,t){let n=r.getHours(),o;switch(n===12?o=$.noon:n===0?o=$.midnight:o=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,e,t){let n=r.getHours(),o;switch(n>=17?o=$.evening:n>=12?o=$.afternoon:n>=4?o=$.morning:o=$.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Y.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):Y.H(r,e)},K:function(r,e,t){let n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):g(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):g(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):Y.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):Y.s(r,e)},S:function(r,e){return Y.S(r,e)},X:function(r,e,t){let n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return mr(n);case"XXXX":case"XX":return S(n);case"XXXXX":case"XXX":default:return S(n,":")}},x:function(r,e,t){let n=r.getTimezoneOffset();switch(e){case"x":return mr(n);case"xxxx":case"xx":return S(n);case"xxxxx":case"xxx":default:return S(n,":")}},O:function(r,e,t){let n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+dr(n,":");case"OOOO":default:return"GMT"+S(n,":")}},z:function(r,e,t){let n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+dr(n,":");case"zzzz":default:return"GMT"+S(n,":")}},t:function(r,e,t){let n=Math.trunc(r.getTime()/1e3);return g(n,e.length)},T:function(r,e,t){let n=r.getTime();return g(n,e.length)}};function dr(r,e=""){let t=r>0?"-":"+",n=Math.abs(r),o=Math.trunc(n/60),s=n%60;return s===0?t+String(o):t+String(o)+e+g(s,2)}function mr(r,e){return r%60===0?(r>0?"-":"+")+g(Math.abs(r)/60,2):S(r,e)}function S(r,e=""){let t=r>0?"-":"+",n=Math.abs(r),o=g(Math.trunc(n/60),2),s=g(n%60,2);return t+o+e+s}var lr=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},pr=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Pn=(r,e)=>{let t=r.match(/(P+)(p+)?/)||[],n=t[1],o=t[2];if(!o)return lr(r,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",lr(n,e)).replace("{{time}}",pr(o,e))},ne={p:pr,P:Pn};var Tn=/^D+$/,On=/^Y+$/,kn=["D","DD","YY","YYYY"];function _e(r){return Tn.test(r)}function De(r){return On.test(r)}function oe(r,e,t){let n=Mn(r,e,t);if(console.warn(n),kn.includes(r))throw new RangeError(n)}function Mn(r,e,t){let n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var En=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Nn=/^'([^]*?)'?$/,Fn=/''/g,Yn=/[a-zA-Z]/;function Pe(r,e,t){let n=M(),o=t?.locale??n.locale??re,s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=u(r);if(!tr(c))throw new RangeError("Invalid time value");let h=e.match(vn).map(x=>{let b=x[0];if(b==="p"||b==="P"){let I=ne[b];return I(x,o.formatLong)}return x}).join("").match(En).map(x=>{if(x==="''")return{isToken:!1,value:"'"};let b=x[0];if(b==="'")return{isToken:!1,value:In(x)};if(Pt[b])return{isToken:!0,value:x};if(b.match(Yn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});o.localize.preprocessor&&(h=o.localize.preprocessor(c,h));let y={firstWeekContainsDate:s,weekStartsOn:i,locale:o};return h.map(x=>{if(!x.isToken)return x.value;let b=x.value;(!t?.useAdditionalWeekYearTokens&&De(b)||!t?.useAdditionalDayOfYearTokens&&_e(b))&&oe(b,e,String(r));let I=Pt[b[0]];return I(c,b,o.localize,y)}).join("")}function In(r){let e=r.match(Nn);return e?e[1].replace(Fn,"'"):r}function hr(){return Object.assign({},M())}function gr(r){let t=u(r).getDay();return t===0&&(t=7),t}function wr(r,e){let t=u(r),n=u(e);return t.getTime()>n.getTime()}function yr(r,e){let t=e instanceof Date?d(e,0):new e(0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}var Wn=10,Te=class{subPriority=0;validate(e,t){return!0}},Oe=class extends Te{constructor(e,t,n,o,s){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=o,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}},ke=class extends Te{priority=Wn;subPriority=-1;set(e,t){return t.timestampIsSet?e:d(e,yr(e,Date))}};var a=class{run(e,t,n,o){let s=this.parse(e,t,n,o);return s?{setter:new Oe(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,n){return!0}};var Me=class extends a{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]};var l={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},E={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function w(r,e){return r&&{value:e(r.value),rest:r.rest}}function m(r,e){let t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function v(r,e){let t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};let n=t[1]==="+"?1:-1,o=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,i=t[5]?parseInt(t[5],10):0;return{value:n*(o*$t+s*Ut+i*jt),rest:e.slice(t[0].length)}}function Ee(r){return m(l.anyDigitsSigned,r)}function f(r,e){switch(r){case 1:return m(l.singleDigit,e);case 2:return m(l.twoDigits,e);case 3:return m(l.threeDigits,e);case 4:return m(l.fourDigits,e);default:return m(new RegExp("^\\d{1,"+r+"}"),e)}}function j(r,e){switch(r){case 1:return m(l.singleDigitSigned,e);case 2:return m(l.twoDigitsSigned,e);case 3:return m(l.threeDigitsSigned,e);case 4:return m(l.fourDigitsSigned,e);default:return m(new RegExp("^-?\\d{1,"+r+"}"),e)}}function K(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ve(r,e){let t=e>0,n=t?e:1-e,o;if(n<=50)o=r||100;else{let s=n+50,i=Math.trunc(s/100)*100,c=r>=s%100;o=r+i-(c?100:0)}return t?o:1-o}function Ne(r){return r%400===0||r%4===0&&r%100!==0}var Fe=class extends a{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){let o=s=>({year:s,isTwoDigitYear:t==="yy"});switch(t){case"y":return w(f(4,e),o);case"yo":return w(n.ordinalNumber(e,{unit:"year"}),o);default:return w(f(t.length,e),o)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){let o=e.getFullYear();if(n.isTwoDigitYear){let i=ve(n.year,o);return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}let s=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}};var Ye=class extends a{priority=130;parse(e,t,n){let o=s=>({year:s,isTwoDigitYear:t==="YY"});switch(t){case"Y":return w(f(4,e),o);case"Yo":return w(n.ordinalNumber(e,{unit:"year"}),o);default:return w(f(t.length,e),o)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,o){let s=U(e,o);if(n.isTwoDigitYear){let c=ve(n.year,s);return e.setFullYear(c,0,o.firstWeekContainsDate),e.setHours(0,0,0,0),P(e,o)}let i=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(i,0,o.firstWeekContainsDate),e.setHours(0,0,0,0),P(e,o)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]};var Ie=class extends a{priority=130;parse(e,t){return t==="R"?j(4,e):j(t.length,e)}set(e,t,n){let o=d(e,0);return o.setFullYear(n,0,4),o.setHours(0,0,0,0),N(o)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]};var We=class extends a{priority=130;parse(e,t){return t==="u"?j(4,e):j(t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]};var Ae=class extends a{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return f(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]};var Ce=class extends a{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return f(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]};var Le=class extends a{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){let o=s=>s-1;switch(t){case"M":return w(m(l.month,e),o);case"MM":return w(f(2,e),o);case"Mo":return w(n.ordinalNumber(e,{unit:"month"}),o);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}};var He=class extends a{priority=110;parse(e,t,n){let o=s=>s-1;switch(t){case"L":return w(m(l.month,e),o);case"LL":return w(f(2,e),o);case"Lo":return w(n.ordinalNumber(e,{unit:"month"}),o);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]};function xr(r,e,t){let n=u(r),o=be(n,t)-e;return n.setDate(n.getDate()-o*7),n}var Re=class extends a{priority=100;parse(e,t,n){switch(t){case"w":return m(l.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return f(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,o){return P(xr(e,n,o),o)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]};function br(r,e){let t=u(r),n=xe(t)-e;return t.setDate(t.getDate()-n*7),t}var qe=class extends a{priority=100;parse(e,t,n){switch(t){case"I":return m(l.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return f(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return N(br(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]};var An=[31,28,31,30,31,30,31,31,30,31,30,31],Cn=[31,29,31,30,31,30,31,31,30,31,30,31],Se=class extends a{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return m(l.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return f(t.length,e)}}validate(e,t){let n=e.getFullYear(),o=Ne(n),s=e.getMonth();return o?t>=1&&t<=Cn[s]:t>=1&&t<=An[s]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]};var ze=class extends a{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return m(l.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return f(t.length,e)}}validate(e,t){let n=e.getFullYear();return Ne(n)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]};function J(r,e,t){let n=M(),o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=u(r),i=s.getDay(),h=(e%7+7)%7,y=7-o,x=e<0||e>6?e-(i+y)%7:(h+y)%7-(i+y)%7;return X(s,x)}var Qe=class extends a{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,o){return e=J(e,n,o),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]};var Be=class extends a{priority=90;parse(e,t,n,o){let s=i=>{let c=Math.floor((i-1)/7)*7;return(i+o.weekStartsOn+6)%7+c};switch(t){case"e":case"ee":return w(f(t.length,e),s);case"eo":return w(n.ordinalNumber(e,{unit:"day"}),s);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,o){return e=J(e,n,o),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]};var Xe=class extends a{priority=90;parse(e,t,n,o){let s=i=>{let c=Math.floor((i-1)/7)*7;return(i+o.weekStartsOn+6)%7+c};switch(t){case"c":case"cc":return w(f(t.length,e),s);case"co":return w(n.ordinalNumber(e,{unit:"day"}),s);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,o){return e=J(e,n,o),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]};function _r(r,e){let t=u(r),n=gr(t),o=e-n;return X(t,o)}var Ge=class extends a{priority=90;parse(e,t,n){let o=s=>s===0?7:s;switch(t){case"i":case"ii":return f(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return w(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),o);case"iiiii":return w(n.day(e,{width:"narrow",context:"formatting"}),o);case"iiiiii":return w(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),o);case"iiii":default:return w(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),o)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return e=_r(e,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]};var Ve=class extends a{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(K(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]};var Ue=class extends a{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(K(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]};var $e=class extends a{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(K(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]};var je=class extends a{priority=70;parse(e,t,n){switch(t){case"h":return m(l.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return f(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){let o=e.getHours()>=12;return o&&n<12?e.setHours(n+12,0,0,0):!o&&n===12?e.setHours(0,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]};var Ke=class extends a{priority=70;parse(e,t,n){switch(t){case"H":return m(l.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return f(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]};var Je=class extends a{priority=70;parse(e,t,n){switch(t){case"K":return m(l.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return f(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]};var Ze=class extends a{priority=70;parse(e,t,n){switch(t){case"k":return m(l.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return f(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){let o=n<=24?n%24:n;return e.setHours(o,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]};var et=class extends a{priority=60;parse(e,t,n){switch(t){case"m":return m(l.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return f(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]};var tt=class extends a{priority=50;parse(e,t,n){switch(t){case"s":return m(l.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return f(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]};var rt=class extends a{priority=30;parse(e,t){let n=o=>Math.trunc(o*Math.pow(10,-t.length+3));return w(f(t.length,e),n)}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]};var nt=class extends a{priority=10;parse(e,t){switch(t){case"X":return v(E.basicOptionalMinutes,e);case"XX":return v(E.basic,e);case"XXXX":return v(E.basicOptionalSeconds,e);case"XXXXX":return v(E.extendedOptionalSeconds,e);case"XXX":default:return v(E.extended,e)}}set(e,t,n){return t.timestampIsSet?e:d(e,e.getTime()-q(e)-n)}incompatibleTokens=["t","T","x"]};var ot=class extends a{priority=10;parse(e,t){switch(t){case"x":return v(E.basicOptionalMinutes,e);case"xx":return v(E.basic,e);case"xxxx":return v(E.basicOptionalSeconds,e);case"xxxxx":return v(E.extendedOptionalSeconds,e);case"xxx":default:return v(E.extended,e)}}set(e,t,n){return t.timestampIsSet?e:d(e,e.getTime()-q(e)-n)}incompatibleTokens=["t","T","X"]};var st=class extends a{priority=40;parse(e){return Ee(e)}set(e,t,n){return[d(e,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"};var it=class extends a{priority=20;parse(e){return Ee(e)}set(e,t,n){return[d(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"};var Dr={G:new Me,y:new Fe,Y:new Ye,R:new Ie,u:new We,Q:new Ae,q:new Ce,M:new Le,L:new He,w:new Re,I:new qe,d:new Se,D:new ze,E:new Qe,e:new Be,c:new Xe,i:new Ge,a:new Ve,b:new Ue,B:new $e,h:new je,H:new Ke,K:new Je,k:new Ze,m:new et,s:new tt,S:new rt,X:new nt,x:new ot,t:new st,T:new it};var Ln=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Hn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rn=/^'([^]*?)'?$/,qn=/''/g,Sn=/\S/,zn=/[a-zA-Z]/;function Pr(r,e,t,n){let o=hr(),s=n?.locale??o.locale??re,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0;if(e==="")return r===""?u(t):d(t,NaN);let h={firstWeekContainsDate:i,weekStartsOn:c,locale:s},y=[new ke],x=e.match(Hn).map(p=>{let _=p[0];if(_ in ne){let F=ne[_];return F(p,s.formatLong)}return p}).join("").match(Ln),b=[];for(let p of x){!n?.useAdditionalWeekYearTokens&&De(p)&&oe(p,e,r),!n?.useAdditionalDayOfYearTokens&&_e(p)&&oe(p,e,r);let _=p[0],F=Dr[_];if(F){let{incompatibleTokens:Tt}=F;if(Array.isArray(Tt)){let Ot=b.find(kt=>Tt.includes(kt.token)||kt.token===_);if(Ot)throw new RangeError(`The format string mustn't contain \`${Ot.fullToken}\` and \`${p}\` at the same time`)}else if(F.incompatibleTokens==="*"&&b.length>0)throw new RangeError(`The format string mustn't contain \`${p}\` and any other token at the same time`);b.push({token:_,fullToken:p});let ft=F.run(r,p,s.match,h);if(!ft)return d(t,NaN);y.push(ft.setter),r=ft.rest}else{if(_.match(zn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");if(p==="''"?p="'":_==="'"&&(p=Qn(p)),r.indexOf(p)===0)r=r.slice(p.length);else return d(t,NaN)}}if(r.length>0&&Sn.test(r))return d(t,NaN);let I=y.map(p=>p.priority).sort((p,_)=>_-p).filter((p,_,F)=>F.indexOf(p)===_).map(p=>y.filter(_=>_.priority===p).sort((_,F)=>F.subPriority-_.subPriority)).map(p=>p[0]),W=u(t);if(isNaN(W.getTime()))return d(t,NaN);let se={};for(let p of I){if(!p.validate(W,h))return d(t,NaN);let _=p.set(W,se,h);Array.isArray(_)?(W=_[0],Object.assign(se,_[1])):W=_}return d(t,W)}function Qn(r){return r.match(Rn)[1].replace(qn,"'")}var at=(r,e)=>{if(!r)return null;if(typeof r=="string")try{let t=Pr(r,e,new Date);return isNaN(t.getTime())?null:t}catch(t){return console.log(t),k(`Error while parsing a date: [${r}]`,"debug",t),null}return new Date(r)};var Tr=r=>r?.name!==void 0&&typeof r.name=="string";var ct=class extends ut.Plugin{constructor(){super(...arguments);this.settings=B(Z,()=>Z)}async onload(){k("Initializing","debug"),await this.loadSettings(),this.setupEventHandlers(),this.addSettingTab(new he(this.app,this))}onunload(){}async loadSettings(){k("Loading settings","debug");let t=await this.loadData();if(!t){k("Using default settings","debug"),t=B(Z,()=>Z);return}let n=!1;this.settings=B(this.settings,o=>{t.ignoredFolders!==void 0&&t.ignoredFolders!==null&&Array.isArray(t.ignoredFolders)?o.ignoredFolders=t.ignoredFolders:(k("The loaded settings miss the [ignoredFolders] property","debug"),n=!0)}),k("Settings loaded","debug",t),n&&this.saveSettings()}async saveSettings(){k("Saving settings","debug",this.settings),await this.saveData(this.settings),k("Settings saved","debug",this.settings)}setupEventHandlers(){this.registerEvent(this.app.vault.on("modify",t=>this.handleFileChange(t)))}async handleFileChange(t){if(!(t instanceof ut.TFile))return;let n=t;if(!await this.shouldFileBeIgnored(n))try{await this.app.fileManager.processFrontMatter(n,s=>{let i=Qt,c=Bt,h=at(n.stat.ctime,R),y=at(n.stat.mtime,R);if(!y||!h){k("Could not determine the creation/modification times. Skipping...","debug");return}s[i]||(s[i]=Pe(h,R));let x=at(s[c],R);if(!s[c]||!x){s[c]=Pe(y,R);return}if(this.shouldUpdateMTime(y,x)){s[c]=Pe(y,R);return}})}catch(s){Tr(s)&&s.name==="YAMLParseError"&&k(`Failed to update creation/update times because the front matter of [${n.path}] is malformed`,"warn",s)}}shouldUpdateMTime(t,n){let o=Gt(n,{minutes:1});return wr(t,o)}async shouldFileBeIgnored(t){return!t.path||zt!==t.extension||St===t.name||(await this.app.vault.read(t)).trim().length===0||qt(t)?!0:this.settings.ignoredFolders.some(o=>!!t.path.startsWith(o))}};var Xn=ct;
